@model PetaFF.Models.PetAd
@{
    ViewData["Title"] = "Новое объявление";
}

<div class="container mt-4">
    <h2>@ViewData["Title"]</h2>
    <form asp-action="Create" method="post" enctype="multipart/form-data">
        @Html.AntiForgeryToken()
        <div asp-validation-summary="All" class="text-danger"></div>

        <div class="form-group mb-3">
            <label asp-for="Name" class="control-label"></label>
            <input asp-for="Name" class="form-control" required />
            <span asp-validation-for="Name" class="text-danger"></span>
        </div>

        <div class="form-group mb-3">
            <label asp-for="Type" class="control-label"></label>
            <input asp-for="Type" class="form-control" required />
            <span asp-validation-for="Type" class="text-danger"></span>
        </div>

        <div class="form-group mb-3">
            <label asp-for="ContactPhone" class="control-label"></label>
            <input asp-for="ContactPhone" class="form-control" required />
            <span asp-validation-for="ContactPhone" class="text-danger"></span>
        </div>

        <div class="form-group mb-3">
            <label asp-for="Description" class="control-label"></label>
            <textarea asp-for="Description" class="form-control" rows="4" required></textarea>
            <span asp-validation-for="Description" class="text-danger"></span>
        </div>

        <div class="form-group mb-3">
            <label asp-for="DateLost" class="control-label"></label>
            <input asp-for="DateLost" class="form-control" type="date" required />
            <span asp-validation-for="DateLost" class="text-danger"></span>
        </div>

        <div class="form-group mb-3">
            <label asp-for="Address" class="control-label">Адрес пользователя</label>
            <input asp-for="Address" class="form-control" required />
            <span asp-validation-for="Address" class="text-danger"></span>
        </div>

        <div class="form-group mb-3">
            <label asp-for="LastSeenAddress" class="control-label">Место, где видели в последний раз</label>
            <input asp-for="LastSeenAddress" class="form-control" />
            <span asp-validation-for="LastSeenAddress" class="text-danger"></span>
        </div>

        <div class="form-group mb-3">
            <label class="control-label">Фото (необязательно)</label>
            <input type="file" name="photo" class="form-control" accept=".jpg,.jpeg,.png,.gif,.bmp" />
            <small class="form-text text-muted">Максимальный размер файла: 5MB. Поддерживаемые форматы: JPG, PNG, GIF, BMP</small>
        </div>

        <div class="form-group">
            <button type="submit" class="btn btn-primary">Опубликовать</button>
            <a asp-action="Index" class="btn btn-secondary">Назад к списку</a>
        </div>
    </form>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
    <script>
        $(document).ready(function() {
            $('input[type="file"]').on('change', function() {
                var file = this.files[0];
                if (file) {
                    if (file.size > 5 * 1024 * 1024) { // 5MB
                        alert('Размер файла не должен превышать 5MB');
                        this.value = '';
                    }
                }
            });
        });
    </script>
} 